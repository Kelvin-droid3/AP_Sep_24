{% extends "base.html" %}
{% block content %}
  <div class="card">
    <h2>{{ lecturer.name }}</h2>
    <p class="muted">Today's sessions and attendance snapshots.</p>
  </div>

  <div class="card">
    <h3>Today</h3>
    {% if lectures %}
    <table>
      <thead>
        <tr>
          <th>Module</th>
          <th>Room</th>
          <th>Time</th>
          <th>Attendance</th>
          <th>Report</th>
        </tr>
      </thead>
      <tbody>
        {% for lecture in lectures %}
        <tr>
          <td>{{ lecture.module_code }} Â· {{ lecture.module_name }}</td>
          <td>{{ lecture.room_name }}</td>
          <td>{{ lecture.start_time[11:16] }} - {{ lecture.end_time[11:16] }}</td>
          <td><span class="pill">{{ attendance_counts[lecture.id] }} taps</span></td>
          <td>
            <a class="button" href="{{ url_for('lecturer_report', lecturer_id=lecturer.id, lecture_id=lecture.id) }}">
              View report
            </a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    {% else %}
    <p class="muted">No lectures scheduled today.</p>
    {% endif %}
  </div>

  <div class="card">
    <h3>Lecturer tools</h3>
    <ul>
      <li>Download CSV reports for each lecture.</li>
      <li>Track attendance counts and time stamps per session.</li>
      <li>Compare card vs mobile usage from reports.</li>
    </ul>
  </div>
{% endblock %}
